# ==================== GOVCONNECT SECRETS ====================
# Sensitive configuration - using stringData for readability
# Kubernetes will automatically base64 encode these

apiVersion: v1
kind: Secret
metadata:
  name: govconnect-secrets
  namespace: govconnect
  labels:
    app.kubernetes.io/name: govconnect
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # Database credentials
  DB_USER: "postgres"
  DB_PASSWORD: "postgree_govconnect"
  
  # RabbitMQ credentials
  RABBITMQ_USER: "admin"
  RABBITMQ_PASSWORD: "rabbitmq_govconnect"
  
  # Internal API Key for service-to-service communication
  INTERNAL_API_KEY: "govconnect_internal_key_2025"
  
  # JWT Secret for dashboard authentication
  JWT_SECRET: "govconnect_jwt_secret_key_2025_secure"
  
  # Gemini API Key for AI Service (placeholder - configure via dashboard)
  GEMINI_API_KEY: "placeholder_configure_in_dashboard"
  
  # WhatsApp API Token (placeholder - configure via dashboard)
  WA_ACCESS_TOKEN: "placeholder_configure_in_dashboard"

---
# ==================== DATABASE URL SECRETS ====================
# Pre-computed DATABASE_URLs for each service
apiVersion: v1
kind: Secret
metadata:
  name: database-urls
  namespace: govconnect
  labels:
    app.kubernetes.io/name: govconnect
    app.kubernetes.io/component: database
type: Opaque
stringData:
  # Format: postgresql://user:password@host:port/database?schema=schema_name
  CHANNEL_DATABASE_URL: "postgresql://postgres:postgree_govconnect@postgres:5432/govconnect?schema=channel"
  CASE_DATABASE_URL: "postgresql://postgres:postgree_govconnect@postgres:5432/govconnect?schema=cases"
  NOTIFICATION_DATABASE_URL: "postgresql://postgres:postgree_govconnect@postgres:5432/govconnect?schema=notification"
  DASHBOARD_DATABASE_URL: "postgresql://postgres:postgree_govconnect@postgres:5432/govconnect?schema=dashboard"

---
# ==================== RABBITMQ URL SECRET ====================
apiVersion: v1
kind: Secret
metadata:
  name: rabbitmq-url
  namespace: govconnect
  labels:
    app.kubernetes.io/name: govconnect
    app.kubernetes.io/component: messaging
type: Opaque
stringData:
  RABBITMQ_URL: "amqp://admin:rabbitmq_govconnect@rabbitmq:5672/govconnect"

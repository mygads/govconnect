{
  "name": "GraphQL API",
  "item": [
    {
      "name": "Queries",
      "item": [
        {
          "name": "Get All Services",
          "request": {
            "method": "POST",
            "url": "{{case_service_url}}/graphql",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query { services { code name description category requirements estimated_duration daily_quota is_active is_online_available citizen_questions { field question type required options } } }\"\n}"
            }
          }
        },
        {
          "name": "Get Service by Code",
          "request": {
            "method": "POST",
            "url": "{{case_service_url}}/graphql",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query GetService($code: String!) { service(code: $code) { code name description category requirements sop_steps estimated_duration daily_quota citizen_questions { field question type required options } } }\",\n  \"variables\": { \"code\": \"SKD\" }\n}"
            }
          }
        },
        {
          "name": "Get Available Slots",
          "request": {
            "method": "POST",
            "url": "{{case_service_url}}/graphql",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query GetAvailableSlots($serviceCode: String!, $date: String!) { availableSlots(serviceCode: $serviceCode, date: $date) { service_code date day_name is_open slots { time available remaining } daily_quota total_booked } }\",\n  \"variables\": { \"serviceCode\": \"SKD\", \"date\": \"2025-12-24\" }\n}"
            }
          }
        },
        {
          "name": "Get Complaint Categories",
          "request": {
            "method": "POST",
            "url": "{{case_service_url}}/graphql",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query { complaintCategories { code name description icon } }\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Mutations",
      "item": [
        {
          "name": "Create Complaint",
          "request": {
            "method": "POST",
            "url": "{{case_service_url}}/graphql",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation CreateComplaint($input: CreateComplaintInput!) { createComplaint(input: $input) { success complaint_id message error } }\",\n  \"variables\": {\n    \"input\": {\n      \"kategori\": \"jalan_rusak\",\n      \"deskripsi\": \"Jalan berlubang di depan kantor kelurahan\",\n      \"alamat\": \"Jl. Merdeka No. 10\",\n      \"rt_rw\": \"001/002\",\n      \"nama_pelapor\": \"John Doe\",\n      \"no_hp\": \"081234567890\"\n    }\n  }\n}"
            }
          }
        },
        {
          "name": "Create Reservation",
          "request": {
            "method": "POST",
            "url": "{{case_service_url}}/graphql",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation CreateReservation($input: CreateReservationInput!) { createReservation(input: $input) { success reservation_id queue_number message error } }\",\n  \"variables\": {\n    \"input\": {\n      \"service_code\": \"SKD\",\n      \"reservation_date\": \"2025-12-24\",\n      \"reservation_time\": \"09:00\",\n      \"nama_lengkap\": \"John Doe\",\n      \"nik\": \"1234567890123456\",\n      \"alamat\": \"Jl. Merdeka No. 10\",\n      \"no_hp\": \"081234567890\"\n    }\n  }\n}"
            }
          }
        }
      ]
    }
  ]
}

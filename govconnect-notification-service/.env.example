# ==================== NOTIFICATION SERVICE ====================
#
# ENVIRONMENT MODES:
# ┌──────────────────────────────────────────────────────────────────────────┐
# │  MODE              │ SERVICE_URL PATTERN         │ DATABASE HOST         │
# ├──────────────────────────────────────────────────────────────────────────┤
# │  Local Dev (npm)   │ http://localhost:PORT       │ localhost:5433        │
# │  Docker Compose    │ http://service-name:PORT    │ postgres:5432         │
# │  Docker Swarm      │ http://service-name:PORT    │ postgres:5432         │
# └──────────────────────────────────────────────────────────────────────────┘
#
# This service handles:
# - Consume RabbitMQ events (AI reply, complaint created, etc)
# - Send notifications via Channel Service
# - Log notification history
# ============================================================================

# Node Environment
NODE_ENV=development

# Server Port
PORT=3004

# PostgreSQL Database (notification schema)
# Local Dev: localhost:5433 (avoid Windows PostgreSQL conflict)
# Docker: postgres:5432
DATABASE_URL="postgresql://postgres:postgres_secret_2025@localhost:5433/govconnect?schema=notification"

# RabbitMQ
# Local Dev: localhost:5672
# Docker: rabbitmq:5672
RABBITMQ_URL="amqp://admin:rabbitmq_secret_2025@localhost:5672/govconnect"

# ==================== INTERNAL SERVICE URLS ====================
# These are for internal service-to-service communication
# In Docker (Compose/Swarm): Use container names
# In Local Dev: Use localhost with respective ports
#
# ┌─────────────────────────────────────────────────────────────────────────────┐
# │  LOCAL DEVELOPMENT (npm run dev)                                            │
# │  ─────────────────────────────────────────────────────────────────────────  │
# │  CHANNEL_SERVICE_URL=http://localhost:3001                                  │
# ├─────────────────────────────────────────────────────────────────────────────┤
# │  DOCKER (Compose/Swarm) - Uses internal Docker network                      │
# │  ─────────────────────────────────────────────────────────────────────────  │
# │  CHANNEL_SERVICE_URL=http://channel-service:3001                            │
# └─────────────────────────────────────────────────────────────────────────────┘
#
CHANNEL_SERVICE_URL="http://localhost:3001"

# Internal API Key (shared with all services)
INTERNAL_API_KEY="govconnect-internal-2025-secret"

# Logging
LOG_LEVEL=info
LOG_DIR=./logs
